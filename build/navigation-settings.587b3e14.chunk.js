(self["webpackChunkcms"] = self["webpackChunkcms"] || []).push([[8008],{

/***/ 2205:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var setPrototypeOf = __webpack_require__(99489);

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  Object.defineProperty(subClass, "prototype", {
    writable: false
  });
  if (superClass) setPrototypeOf(subClass, superClass);
}

module.exports = _inherits, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 4939:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.PermanentAlert=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Alert=__webpack_require__(78881);var PermanentAlert=/*#__PURE__*/(0,_styledComponents["default"])(_Alert.Alert).withConfig({displayName:"styles__PermanentAlert",componentId:"sc-vqt0qu-0"})(["button{display:none;}"]);exports.PermanentAlert=PermanentAlert;

/***/ }),

/***/ 88390:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Button=__webpack_require__(64459);var _Dialog=__webpack_require__(81895);var _Flex=__webpack_require__(40264);var _Stack=__webpack_require__(9524);var _Typography=__webpack_require__(33483);var _icons=__webpack_require__(82482);var _utils=__webpack_require__(24228);/**
 *
 * Entity Details
 *
 */var ConfirmationDialog=function ConfirmationDialog(_ref){var _ref$isVisible=_ref.isVisible,isVisible=_ref$isVisible===void 0?false:_ref$isVisible,_ref$isActionAsync=_ref.isActionAsync,isActionAsync=_ref$isActionAsync===void 0?false:_ref$isActionAsync,children=_ref.children,onConfirm=_ref.onConfirm,onCancel=_ref.onCancel,header=_ref.header,labelCancel=_ref.labelCancel,labelConfirm=_ref.labelConfirm,iconConfirm=_ref.iconConfirm;return/*#__PURE__*/_react["default"].createElement(_Dialog.Dialog,{onClose:onCancel,title:header||(0,_utils.getMessage)('components.confirmation.dialog.header','Confirmation'),isOpen:isVisible},/*#__PURE__*/_react["default"].createElement(_Dialog.DialogBody,{icon:/*#__PURE__*/_react["default"].createElement(_icons.ExclamationMarkCircle,null)},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{spacing:2},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"center"},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{id:"dialog-confirm-description"},children||(0,_utils.getMessage)('components.confirmation.dialog.description'))))),/*#__PURE__*/_react["default"].createElement(_Dialog.DialogFooter,{startAction:/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:onCancel,variant:"tertiary",disabled:isActionAsync},labelCancel||(0,_utils.getMessage)('components.confirmation.dialog.button.cancel','Cancel')),endAction:/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:onConfirm,variant:"danger-light",startIcon:iconConfirm||/*#__PURE__*/_react["default"].createElement(_icons.Check,null),disabled:isActionAsync},labelConfirm||(0,_utils.getMessage)('components.confirmation.dialog.button.confirm','Confirm'))}));};ConfirmationDialog.propTypes={isVisible:_propTypes["default"].bool,isActionAsync:_propTypes["default"].bool,children:_propTypes["default"].string.isRequired,header:_propTypes["default"].string,labelCancel:_propTypes["default"].string,labelConfirm:_propTypes["default"].string,iconConfirm:_propTypes["default"].object,onConfirm:_propTypes["default"].func.isRequired,onCancel:_propTypes["default"].func.isRequired};var _default=ConfirmationDialog;exports["default"]=_default;

/***/ }),

/***/ 73500:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports["default"]=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Alert=__webpack_require__(78881);var _default=(0,_styledComponents["default"])(_Alert.Alert).withConfig({displayName:"RestartAlert",componentId:"sc-1bl1vua-0"})(["[role=\"status\"]{flex-direction:column;}"]);exports["default"]=_default;

/***/ }),

/***/ 18238:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports["default"]=void 0;var _reactQuery=__webpack_require__(68960);var _helperPlugin=__webpack_require__(68547);var _api=__webpack_require__(90418);var useAllContentTypes=function useAllContentTypes(){var toggleNotification=(0,_helperPlugin.useNotification)();var _useQuery=(0,_reactQuery.useQuery)('contentTypes',function(){return(0,_api.fetchAllContentTypes)(toggleNotification);}),isLoading=_useQuery.isLoading,data=_useQuery.data;return{data:data,isLoading:isLoading};};var _default=useAllContentTypes;exports["default"]=_default;

/***/ }),

/***/ 91796:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports["default"]=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _reactQuery=__webpack_require__(68960);var _helperPlugin=__webpack_require__(68547);var _api=__webpack_require__(90418);var _translations=__webpack_require__(18083);var useNavigationConfig=function useNavigationConfig(){var queryClient=(0,_reactQuery.useQueryClient)();var toggleNotification=(0,_helperPlugin.useNotification)();var _useQuery=(0,_reactQuery.useQuery)('navigationConfig',function(){return(0,_api.fetchNavigationConfig)(toggleNotification);}),isLoading=_useQuery.isLoading,data=_useQuery.data,err=_useQuery.err;var handleError=function handleError(type){toggleNotification({type:'warning',message:(0,_translations.getTrad)("pages.settings.notification.".concat(type,".error"))});};var handleSuccess=/*#__PURE__*/function(){var _ref=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(type){return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return queryClient.invalidateQueries('navigationConfig');case 2:toggleNotification({type:'success',message:(0,_translations.getTrad)("pages.settings.notification.".concat(type,".success"))});case 3:case"end":return _context.stop();}}},_callee);}));return function handleSuccess(_x){return _ref.apply(this,arguments);};}();var submitMutation=/*#__PURE__*/function(){var _ref2=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(){var _args2=arguments;return _regenerator["default"].wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return _api.updateNavigationConfig.apply(void 0,_args2);case 3:_context2.next=5;return handleSuccess('submit');case 5:_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2["catch"](0);handleError('submit');case 10:case"end":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function submitMutation(){return _ref2.apply(this,arguments);};}();var restoreMutation=/*#__PURE__*/function(){var _ref3=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee3(){var _args3=arguments;return _regenerator["default"].wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return _api.restoreNavigationConfig.apply(void 0,_args3);case 3:_context3.next=5;return handleSuccess('restore');case 5:_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3["catch"](0);handleError('restore');case 10:case"end":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function restoreMutation(){return _ref3.apply(this,arguments);};}();var restartMutation=/*#__PURE__*/function(){var _ref4=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee4(){var _args4=arguments;return _regenerator["default"].wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return _api.restartStrapi.apply(void 0,_args4);case 3:_context4.next=5;return handleSuccess('restart');case 5:_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4["catch"](0);handleError('restart');case 10:case"end":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function restartMutation(){return _ref4.apply(this,arguments);};}();return{data:data,isLoading:isLoading,err:err,submitMutation:submitMutation,restoreMutation:restoreMutation,restartMutation:restartMutation};};var _default=useNavigationConfig;exports["default"]=_default;

/***/ }),

/***/ 57012:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports["default"]=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _formik=__webpack_require__(80831);var _lodash=__webpack_require__(96486);var _helperPlugin=__webpack_require__(68547);var _Main=__webpack_require__(80117);var _Layout=__webpack_require__(35395);var _Accordion=__webpack_require__(47949);var _Button=__webpack_require__(64459);var _Box=__webpack_require__(94117);var _Stack=__webpack_require__(9524);var _Typography=__webpack_require__(33483);var _Grid=__webpack_require__(39272);var _ToggleInput=__webpack_require__(53575);var _NumberInput=__webpack_require__(89723);var _Select=__webpack_require__(2632);var _Tooltip=__webpack_require__(55639);var _icons=__webpack_require__(82482);var _permissions=_interopRequireDefault(__webpack_require__(42616));var _useNavigationConfig2=_interopRequireDefault(__webpack_require__(91796));var _useAllContentTypes2=_interopRequireDefault(__webpack_require__(18238));var _enums=__webpack_require__(6881);var _ConfirmationDialog=_interopRequireDefault(__webpack_require__(88390));var _RestartAlert=_interopRequireDefault(__webpack_require__(73500));var _utils=__webpack_require__(24228);var _functions=__webpack_require__(53964);var _styles=__webpack_require__(4939);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}var SettingsPage=function SettingsPage(){var _useOverlayBlocker=(0,_helperPlugin.useOverlayBlocker)(),lockApp=_useOverlayBlocker.lockApp,unlockApp=_useOverlayBlocker.unlockApp;var _useAutoReloadOverlay=(0,_helperPlugin.useAutoReloadOverlayBlocker)(),lockAppWithAutoreload=_useAutoReloadOverlay.lockAppWithAutoreload,unlockAppWithAutoreload=_useAutoReloadOverlay.unlockAppWithAutoreload;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),isRestorePopupOpen=_useState2[0],setIsRestorePopupOpen=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2["default"])(_useState3,2),isRestartRequired=_useState4[0],setIsRestartRequired=_useState4[1];var _useState5=(0,_react.useState)(undefined),_useState6=(0,_slicedToArray2["default"])(_useState5,2),contentTypeExpanded=_useState6[0],setContentTypeExpanded=_useState6[1];var _useNavigationConfig=(0,_useNavigationConfig2["default"])(),navigationConfigData=_useNavigationConfig.data,isConfigLoading=_useNavigationConfig.isLoading,configErr=_useNavigationConfig.err,submitMutation=_useNavigationConfig.submitMutation,restoreMutation=_useNavigationConfig.restoreMutation,restartMutation=_useNavigationConfig.restartMutation;var _useAllContentTypes=(0,_useAllContentTypes2["default"])(),allContentTypesData=_useAllContentTypes.data,isContentTypesLoading=_useAllContentTypes.isLoading,contentTypesErr=_useAllContentTypes.err;var isLoading=isConfigLoading||isContentTypesLoading;var isError=configErr||contentTypesErr;var boxDefaultProps={background:"neutral0",hasRadius:true,shadow:"filterShadow",padding:6};var preparePayload=function preparePayload(_ref){var selectedContentTypes=_ref.selectedContentTypes,nameFields=_ref.nameFields,audienceFieldChecked=_ref.audienceFieldChecked,allowedLevels=_ref.allowedLevels,populate=_ref.populate;return{contentTypes:selectedContentTypes,contentTypesNameFields:nameFields,contentTypesPopulate:populate,additionalFields:audienceFieldChecked?[_enums.navigationItemAdditionalFields.AUDIENCE]:[],allowedLevels:allowedLevels,gql:{navigationItemRelated:selectedContentTypes.map(function(uid){return(0,_functions.resolveGlobalLikeId)(uid);})}};};var onSave=/*#__PURE__*/function(){var _ref2=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(form){var payload,isContentTypesChanged;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:lockApp();payload=preparePayload(form);_context.next=4;return submitMutation({body:payload});case 4:isContentTypesChanged=!(0,_lodash.isEqual)(payload.contentTypes,navigationConfigData.contentTypes);if(isContentTypesChanged&&navigationConfigData.isGQLPluginEnabled){setIsRestartRequired(true);}unlockApp();case 7:case"end":return _context.stop();}}},_callee);}));return function onSave(_x){return _ref2.apply(this,arguments);};}();var onPopupClose=/*#__PURE__*/function(){var _ref3=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(isConfirmed){return _regenerator["default"].wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setIsRestorePopupOpen(false);if(!isConfirmed){_context2.next=7;break;}lockApp();_context2.next=5;return restoreMutation();case 5:unlockApp();setIsRestartRequired(true);case 7:case"end":return _context2.stop();}}},_callee2);}));return function onPopupClose(_x2){return _ref3.apply(this,arguments);};}();var handleRestart=/*#__PURE__*/function(){var _ref4=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee3(){return _regenerator["default"].wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:lockAppWithAutoreload();_context3.next=3;return restartMutation();case 3:setIsRestartRequired(false);unlockAppWithAutoreload();case 5:case"end":return _context3.stop();}}},_callee3);}));return function handleRestart(){return _ref4.apply(this,arguments);};}();var handleRestartDiscard=function handleRestartDiscard(){return setIsRestartRequired(false);};var handleSetContentTypeExpanded=function handleSetContentTypeExpanded(key){return setContentTypeExpanded(key===contentTypeExpanded?undefined:key);};var prepareNameFieldFor=function prepareNameFieldFor(uid,current,value){return _objectSpread(_objectSpread({},current),{},(0,_defineProperty2["default"])({},uid,value&&!(0,_lodash.isEmpty)(value)?(0,_toConsumableArray2["default"])(value):undefined));};if(isLoading||isError){return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_helperPlugin.SettingsPageTitle,{name:(0,_utils.getMessage)('Settings.email.plugin.title','Configuration')}),/*#__PURE__*/_react["default"].createElement(_helperPlugin.LoadingIndicatorPage,null,"Fetching plugin config..."));}var configContentTypes=(navigationConfigData===null||navigationConfigData===void 0?void 0:navigationConfigData.contentTypes)||[];var allContentTypes=!isLoading&&Object.values(allContentTypesData).filter(function(_ref5){var uid=_ref5.uid;return(0,_functions.isContentTypeEligible)(uid,{allowedContentTypes:navigationConfigData===null||navigationConfigData===void 0?void 0:navigationConfigData.allowedContentTypes,restrictedContentTypes:navigationConfigData===null||navigationConfigData===void 0?void 0:navigationConfigData.restrictedContentTypes});}).map(function(ct){var type=configContentTypes.find(function(_){return _.uid===ct.uid;});if(type){var available=type.available,isSingle=type.isSingle;return _objectSpread(_objectSpread({},ct),{},{available:available,isSingle:isSingle});}return ct;});var selectedContentTypes=configContentTypes.map(function(item){return item.uid;});var audienceFieldChecked=navigationConfigData===null||navigationConfigData===void 0?void 0:navigationConfigData.additionalFields.includes(_enums.navigationItemAdditionalFields.AUDIENCE);var allowedLevels=(navigationConfigData===null||navigationConfigData===void 0?void 0:navigationConfigData.allowedLevels)||2;var nameFields=(navigationConfigData===null||navigationConfigData===void 0?void 0:navigationConfigData.contentTypesNameFields)||{};var populate=(navigationConfigData===null||navigationConfigData===void 0?void 0:navigationConfigData.contentTypesPopulate)||{};return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_helperPlugin.SettingsPageTitle,{name:(0,_utils.getMessage)('Settings.email.plugin.title','Configuration')}),/*#__PURE__*/_react["default"].createElement(_Main.Main,{labelledBy:"title"},/*#__PURE__*/_react["default"].createElement(_formik.Formik,{initialValues:{selectedContentTypes:selectedContentTypes,audienceFieldChecked:audienceFieldChecked,allowedLevels:allowedLevels,nameFields:nameFields,populate:populate},onSubmit:onSave},function(_ref6){var handleSubmit=_ref6.handleSubmit,setFieldValue=_ref6.setFieldValue,values=_ref6.values;return/*#__PURE__*/_react["default"].createElement(_helperPlugin.Form,{noValidate:true,onSubmit:handleSubmit},/*#__PURE__*/_react["default"].createElement(_Layout.HeaderLayout,{title:(0,_utils.getMessage)('pages.settings.header.title'),subtitle:(0,_utils.getMessage)('pages.settings.header.description'),primaryAction:/*#__PURE__*/_react["default"].createElement(_helperPlugin.CheckPermissions,{permissions:_permissions["default"].access},/*#__PURE__*/_react["default"].createElement(_Button.Button,{type:"submit",startIcon:/*#__PURE__*/_react["default"].createElement(_icons.Check,null),disabled:isRestartRequired},(0,_utils.getMessage)('pages.settings.actions.submit')))}),/*#__PURE__*/_react["default"].createElement(_Layout.ContentLayout,null,/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{spacing:7},isRestartRequired&&/*#__PURE__*/_react["default"].createElement(_RestartAlert["default"],{closeLabel:(0,_utils.getMessage)('pages.settings.actions.restart.alert.cancel'),title:(0,_utils.getMessage)('pages.settings.actions.restart.alert.title'),action:/*#__PURE__*/_react["default"].createElement(_Box.Box,null,/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:handleRestart,startIcon:/*#__PURE__*/_react["default"].createElement(_icons.Play,null)},(0,_utils.getMessage)('pages.settings.actions.restart'))),onClose:handleRestartDiscard},(0,_utils.getMessage)('pages.settings.actions.restart.alert.description')),/*#__PURE__*/_react["default"].createElement(_Box.Box,boxDefaultProps,/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{spacing:4},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"delta",as:"h2"},(0,_utils.getMessage)('pages.settings.general.title')),/*#__PURE__*/_react["default"].createElement(_Grid.Grid,{gap:4},/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:12,s:12,xs:12},/*#__PURE__*/_react["default"].createElement(_Select.Select,{name:"selectedContentTypes",label:(0,_utils.getMessage)('pages.settings.form.contentTypes.label'),placeholder:(0,_utils.getMessage)('pages.settings.form.contentTypes.placeholder'),hint:(0,_utils.getMessage)('pages.settings.form.contentTypes.hint'),onClear:function onClear(){return setFieldValue('selectedContentTypes',[],false);},value:values.selectedContentTypes,onChange:function onChange(value){return setFieldValue('selectedContentTypes',value,false);},multi:true,withTags:true,disabled:isRestartRequired},allContentTypes.map(function(item){return/*#__PURE__*/_react["default"].createElement(_Select.Option,{key:item.uid,value:item.uid},item.info.displayName);}))),!(0,_lodash.isEmpty)(values.selectedContentTypes)&&/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:12},/*#__PURE__*/_react["default"].createElement(_Accordion.AccordionGroup,{label:(0,_utils.getMessage)('pages.settings.form.contentTypesSettings.label'),labelAction:/*#__PURE__*/_react["default"].createElement(_Tooltip.Tooltip,{description:(0,_utils.getMessage)('pages.settings.form.contentTypesSettings.tooltip')},/*#__PURE__*/_react["default"].createElement(_icons.Information,{"aria-hidden":true}))},(0,_lodash.orderBy)(values.selectedContentTypes).map(function(uid){var _allContentTypes$find=allContentTypes.find(function(item){return item.uid==uid;}),attributes=_allContentTypes$find.attributes,displayName=_allContentTypes$find.info.displayName,available=_allContentTypes$find.available,isSingle=_allContentTypes$find.isSingle;var stringAttributes=Object.keys(attributes).filter(function(_){return attributes[_].type==='string';});var relationAttributes=Object.keys(attributes).filter(function(_){return attributes[_].type==='relation';});var key="collectionSettings-".concat(uid);return/*#__PURE__*/_react["default"].createElement(_Accordion.Accordion,{expanded:contentTypeExpanded===key,toggle:function toggle(){return handleSetContentTypeExpanded(key);},key:key,id:key,size:"S"},/*#__PURE__*/_react["default"].createElement(_Accordion.AccordionToggle,{title:displayName,togglePosition:"left",startIcon:isSingle&&!available&&/*#__PURE__*/_react["default"].createElement(_icons.ExclamationMarkCircle,{"aria-hidden":true})}),/*#__PURE__*/_react["default"].createElement(_Accordion.AccordionContent,null,/*#__PURE__*/_react["default"].createElement(_Box.Box,{padding:6},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{spacing:4},isSingle&&!available&&/*#__PURE__*/_react["default"].createElement(_styles.PermanentAlert,{title:(0,_utils.getMessage)('pages.settings.form.contentTypesSettings.initializationWarning.title'),variant:"danger",onClose:function onClose(e){return e.preventDefault();}},(0,_utils.getMessage)('pages.settings.form.contentTypesSettings.initializationWarning.content')),/*#__PURE__*/_react["default"].createElement(_Select.Select,{name:"collectionSettings-".concat(uid,"-entryLabel"),label:(0,_utils.getMessage)('pages.settings.form.nameField.label'),hint:(0,_utils.getMessage)("pages.settings.form.populate.".concat((0,_lodash.isEmpty)(stringAttributes)?'empty':'hint')),placeholder:(0,_utils.getMessage)('pages.settings.form.nameField.placeholder'),onClear:function onClear(){return null;},value:values.nameFields[uid]||[],onChange:function onChange(value){return setFieldValue('nameFields',prepareNameFieldFor(uid,values.nameFields,value));},multi:true,withTags:true,disabled:isRestartRequired||(0,_lodash.isEmpty)(stringAttributes)},stringAttributes.map(function(key){return/*#__PURE__*/_react["default"].createElement(_Select.Option,{key:uid+key,value:key},(0,_lodash.capitalize)(key.split('_').join(' ')));})),/*#__PURE__*/_react["default"].createElement(_Select.Select,{name:"collectionSettings-".concat(uid,"-populate"),label:(0,_utils.getMessage)('pages.settings.form.populate.label'),hint:(0,_utils.getMessage)("pages.settings.form.populate.".concat((0,_lodash.isEmpty)(relationAttributes)?'empty':'hint')),placeholder:(0,_utils.getMessage)('pages.settings.form.populate.placeholder'),onClear:function onClear(){return null;},value:values.populate[uid]||[],onChange:function onChange(value){return setFieldValue('populate',prepareNameFieldFor(uid,values.populate,value));},multi:true,withTags:true,disabled:isRestartRequired||(0,_lodash.isEmpty)(relationAttributes)},relationAttributes.map(function(key){return/*#__PURE__*/_react["default"].createElement(_Select.Option,{key:uid+key,value:key},(0,_lodash.capitalize)(key.split('_').join(' ')));}))))));})))))),/*#__PURE__*/_react["default"].createElement(_Box.Box,boxDefaultProps,/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{spacing:4},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"delta",as:"h2"},(0,_utils.getMessage)('pages.settings.additional.title')),/*#__PURE__*/_react["default"].createElement(_Grid.Grid,{gap:4},/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:3,s:6,xs:12},/*#__PURE__*/_react["default"].createElement(_NumberInput.NumberInput,{name:"allowedLevels",label:(0,_utils.getMessage)('pages.settings.form.allowedLevels.label'),placeholder:(0,_utils.getMessage)('pages.settings.form.allowedLevels.placeholder'),hint:(0,_utils.getMessage)('pages.settings.form.allowedLevels.hint'),onValueChange:function onValueChange(value){return setFieldValue('allowedLevels',value,false);},value:values.allowedLevels,disabled:isRestartRequired})),/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:6,s:12,xs:12},/*#__PURE__*/_react["default"].createElement(_ToggleInput.ToggleInput,{name:"audienceFieldChecked",label:(0,_utils.getMessage)('pages.settings.form.audience.label'),hint:(0,_utils.getMessage)('pages.settings.form.audience.hint'),checked:values.audienceFieldChecked,onChange:function onChange(_ref7){var checked=_ref7.target.checked;return setFieldValue('audienceFieldChecked',checked,false);},onLabel:"Enabled",offLabel:"Disabled",disabled:isRestartRequired}))))),/*#__PURE__*/_react["default"].createElement(_Box.Box,boxDefaultProps,/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{spacing:4},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"delta",as:"h2"},(0,_utils.getMessage)('pages.settings.restoring.title')),/*#__PURE__*/_react["default"].createElement(_Grid.Grid,{gap:4},/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:12,s:12,xs:12},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,null,(0,_utils.getMessage)('pages.settings.actions.restore.description'))),/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:6,s:12,xs:12},/*#__PURE__*/_react["default"].createElement(_helperPlugin.CheckPermissions,{permissions:_permissions["default"].access},/*#__PURE__*/_react["default"].createElement(_Button.Button,{variant:"danger-light",startIcon:/*#__PURE__*/_react["default"].createElement(_icons.Refresh,null),onClick:function onClick(){return setIsRestorePopupOpen(true);}},(0,_utils.getMessage)('pages.settings.actions.restore'))),/*#__PURE__*/_react["default"].createElement(_ConfirmationDialog["default"],{isVisible:isRestorePopupOpen,header:(0,_utils.getMessage)('pages.settings.actions.restore.confirmation.header'),labelConfirm:(0,_utils.getMessage)('pages.settings.actions.restore.confirmation.confirm'),iconConfirm:/*#__PURE__*/_react["default"].createElement(_icons.Refresh,null),onConfirm:function onConfirm(){return onPopupClose(true);},onCancel:function onCancel(){return onPopupClose(false);}},(0,_utils.getMessage)('pages.settings.actions.restore.confirmation.description')))))))));})));};var _default=SettingsPage;exports["default"]=_default;

/***/ }),

/***/ 53964:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _inherits2=_interopRequireDefault(__webpack_require__(2205));var _setPrototypeOf2=_interopRequireDefault(__webpack_require__(99489));function _wrapRegExp(){_wrapRegExp=function _wrapRegExp(re,groups){return new BabelRegExp(re,void 0,groups);};var _super=RegExp.prototype,_groups=new WeakMap();function BabelRegExp(re,flags,groups){var _this=new RegExp(re,flags);return _groups.set(_this,groups||_groups.get(re)),(0,_setPrototypeOf2["default"])(_this,BabelRegExp.prototype);}function buildGroups(result,re){var g=_groups.get(re);return Object.keys(g).reduce(function(groups,name){return groups[name]=result[g[name]],groups;},Object.create(null));}return(0,_inherits2["default"])(BabelRegExp,RegExp),BabelRegExp.prototype.exec=function(str){var result=_super.exec.call(this,str);return result&&(result.groups=buildGroups(result,this)),result;},BabelRegExp.prototype[Symbol.replace]=function(str,substitution){if("string"==typeof substitution){var groups=_groups.get(this);return _super[Symbol.replace].call(this,str,substitution.replace(/\$<([^>]+)>/g,function(_,name){return"$"+groups[name];}));}if("function"==typeof substitution){var _this=this;return _super[Symbol.replace].call(this,str,function(){var args=arguments;return"object"!=_typeof(args[args.length-1])&&(args=[].slice.call(args)).push(buildGroups(args,_this)),substitution.apply(this,args);});}return _super[Symbol.replace].call(this,str,substitution);},_wrapRegExp.apply(this,arguments);}var _require=__webpack_require__(96486),capitalize=_require.capitalize;var UID_REGEX=/*#__PURE__*/_wrapRegExp(/^([a-z0-9-]+):{2}([a-z0-9-]+)\.{1}([a-z0-9-]+)$/i,{type:1,api:2,contentType:3});var splitTypeUid=function splitTypeUid(){var uid=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return uid.split(UID_REGEX).filter(function(s){return s&&s.length>0;});};module.exports={resolveGlobalLikeId:function resolveGlobalLikeId(){var uid=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var parse=function parse(str){return str.split('-').map(function(_){return capitalize(_);}).join('');};var _splitTypeUid=splitTypeUid(uid),_splitTypeUid2=(0,_slicedToArray2["default"])(_splitTypeUid,3),type=_splitTypeUid2[0],scope=_splitTypeUid2[1],contentTypeName=_splitTypeUid2[2];if(type==='api'){return parse(contentTypeName);}return"".concat(parse(scope)).concat(parse(contentTypeName));},isContentTypeEligible:function isContentTypeEligible(){var uid=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var config=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _config$allowedConten=config.allowedContentTypes,allowedContentTypes=_config$allowedConten===void 0?[]:_config$allowedConten,_config$restrictedCon=config.restrictedContentTypes,restrictedContentTypes=_config$restrictedCon===void 0?[]:_config$restrictedCon;var isOneOfAllowedType=allowedContentTypes.filter(function(_){return uid.includes(_)||uid===_;}).length>0;var isNoneOfRestricted=restrictedContentTypes.filter(function(_){return uid.includes(_)||uid===_;}).length===0;return uid&&isOneOfAllowedType&&isNoneOfRestricted;}};

/***/ }),

/***/ 6881:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.navigationItemType=exports.navigationItemAdditionalFields=void 0;var navigationItemType={INTERNAL:"INTERNAL",EXTERNAL:"EXTERNAL",WRAPPER:"WRAPPER"};exports.navigationItemType=navigationItemType;var navigationItemAdditionalFields={AUDIENCE:'audience'};exports.navigationItemAdditionalFields=navigationItemAdditionalFields;

/***/ }),

/***/ 90418:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.updateNavigationConfig=exports.restoreNavigationConfig=exports.restartStrapi=exports.fetchNavigationConfig=exports.fetchAllContentTypes=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _helperPlugin=__webpack_require__(68547);var _pluginId=_interopRequireDefault(__webpack_require__(60937));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}var fetchNavigationConfig=/*#__PURE__*/function(){var _ref=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var data;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_helperPlugin.request)("/".concat(_pluginId["default"],"/settings/config"),{method:'GET'});case 3:data=_context.sent;return _context.abrupt("return",data);case 7:_context.prev=7;_context.t0=_context["catch"](0);toggleNotification({type:'warning',message:{id:'notification.error'}});return _context.abrupt("return",{err:_context.t0});case 11:case"end":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchNavigationConfig(){return _ref.apply(this,arguments);};}();exports.fetchNavigationConfig=fetchNavigationConfig;var updateNavigationConfig=/*#__PURE__*/function(){var _ref3=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(_ref2){var body;return _regenerator["default"].wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:body=_ref2.body;return _context2.abrupt("return",(0,_helperPlugin.request)("/".concat(_pluginId["default"],"/config"),{method:'PUT',body:body},true));case 2:case"end":return _context2.stop();}}},_callee2);}));return function updateNavigationConfig(_x){return _ref3.apply(this,arguments);};}();exports.updateNavigationConfig=updateNavigationConfig;var restoreNavigationConfig=/*#__PURE__*/function(){var _ref4=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee3(){return _regenerator["default"].wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",(0,_helperPlugin.request)("/".concat(_pluginId["default"],"/config"),{method:'DELETE'},true));case 1:case"end":return _context3.stop();}}},_callee3);}));return function restoreNavigationConfig(){return _ref4.apply(this,arguments);};}();exports.restoreNavigationConfig=restoreNavigationConfig;var fetchAllContentTypes=/*#__PURE__*/function(){var _ref5=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee4(){var _yield$request,data;return _regenerator["default"].wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return(0,_helperPlugin.request)('/content-manager/content-types');case 3:_yield$request=_context4.sent;data=_yield$request.data;return _context4.abrupt("return",_objectSpread({},data));case 8:_context4.prev=8;_context4.t0=_context4["catch"](0);toggleNotification({type:'warning',message:{id:'notification.error'}});return _context4.abrupt("return",{err:_context4.t0});case 12:case"end":return _context4.stop();}}},_callee4,null,[[0,8]]);}));return function fetchAllContentTypes(){return _ref5.apply(this,arguments);};}();exports.fetchAllContentTypes=fetchAllContentTypes;var restartStrapi=/*#__PURE__*/function(){var _ref6=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee5(toggleNotification){var _yield$request2,data;return _regenerator["default"].wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return(0,_helperPlugin.request)("/".concat(_pluginId["default"],"/settings/restart"));case 3:_yield$request2=_context5.sent;data=_yield$request2.data;return _context5.abrupt("return",data);case 8:_context5.prev=8;_context5.t0=_context5["catch"](0);toggleNotification({type:'warning',message:{id:'notification.error'}});return _context5.abrupt("return",{err:_context5.t0});case 12:case"end":return _context5.stop();}}},_callee5,null,[[0,8]]);}));return function restartStrapi(_x2){return _ref6.apply(this,arguments);};}();exports.restartStrapi=restartStrapi;

/***/ }),

/***/ 24228:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.getMessage=exports.ItemTypes=void 0;var _reactIntl=__webpack_require__(97132);var _lodash=__webpack_require__(96486);var _pluginId=_interopRequireDefault(__webpack_require__(60937));var getMessage=function getMessage(input){var defaultMessage=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var inPluginScope=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var formattedId='';if((0,_lodash.isString)(input)){formattedId=input;}else{formattedId=input===null||input===void 0?void 0:input.id;}return formatMessage({id:"".concat(inPluginScope?_pluginId["default"]:'app.components',".").concat(formattedId),defaultMessage:defaultMessage},(input===null||input===void 0?void 0:input.props)||undefined);};exports.getMessage=getMessage;var ItemTypes={NAVIGATION_ITEM:'navigationItem'};exports.ItemTypes=ItemTypes;

/***/ })

}]);